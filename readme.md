# Crawfish

Crawfish - проект, предназначенный для разработки среды, с которой можно легко начать разработку небольшого сайта.

## Технологии, используемые на проекте

1. HTML5
2. CSS3
3. SASS (SCSS)
4. Prepros
5. JavaScript
6. PHP 7.2
7. MySQL 5.6

## Перед началом работы

1. Удалите файлы *delete.me* из директорий ***/css/blocks/*** и ***/media/fonts/***. Также, удалите файлы *LICENSE* и *readme.md* из корневой директории сайта. И не забудьте удалить директорию с репозиторием.
2. Добавьте строку */prepros.config* в */.gitignore*. Конфигурация Prepros находится в соответствующем файле. Обязательно пропустите через Prepros сайт перед началом работы.
3. Настройки подключения к базе данных располагаются в файле ***/core/conn.php***. Не забывайте заключать подключение к базе данных в подобную конструкцию:
<pre>
try {
    require CORE.'/conn.php';
    // Работа с БД
    $conn = null;
} catch (PDOException $e) {
    echo 'Ошибка PDO: '.$e->getMessage();
    exit;
}
</pre>
4. Убрать показ PHP-ошибок можно в файле ***/core/init.php***. Также, тут можно настроить *временную зону* и запустить *сессию*.
5. Все медиа-файлы должны располагаться в директории ***/media/***. Все шрифты располагаются в директории ***/media/fonts/***. Подключение шрифтов производится в файле ***/css/core/fonts.scss***.
6. SASS-переменные можно настроить в начале файла ***/css/core/params.scss***.
7. Все страницы располагаться в директории ***/pages/***. Все шаблоны должны располагаться в директории ***/pages/templates/***. Здесь уже находятся шаблоны начала и конца страницы.
8. Файл ***/index.php*** используется в качестве главной страницы проекта. Используйте его в качестве подобия для создания других страниц.
9. Все *@media*-правила должны настраиваться в файле ***/css/core/media.scss***.
10. Все *css*-файлы необходимо подключать в файле ***/css/main.scss***. Все *js*-файлы необходимо подключать в файле ***/js/main.js***.
11. Все php-файлы (кроме страниц) размещайте в директории ***/php/***.
12. Если вы будете вносить изменения в файлы в директориях ***core*** (помимо вышеописанных изменений), это может повлиять на работу сайта.

## Документация

### Константы PHP

+ *ROOT* - Путь до физического корня сайта
+ *CORE* - Физический путь до директории ***/core***
+ *CSS* - Абсолютный путь до директории ***/css***
+ *JS* - Абсолютный путь до директории ***/js***
+ *MEDIA* - Физический путь до директории ***/media***
+ *PAGES* - Абсолютный путь до директории ***/pages***
+ *TEMPLATES* - Физический путь до директории ***/pages/templates***

### Функции PHP

+ *analyze($var, bool $file = false) :void* - Получение информации о данных, переданных в $var, при ***$file = true*** вывод информации произойдёт в ***/log.txt***
+ *march(string $url)* - Переход на другую страницу
+ *purgeString(string $str) :string* - Очистка строки
+ *sqlQuery(string $query, array $params = [])* - Выполнение PDO-запроса, возвращает PDOStatement

### Классы PHP

+ *Form(string $action, string $class = '', string $method = 'POST', bool $withFiles = false, int $size = 0)* - Создаёт HTML-форму. Имеет методы *addElement(string $name, string $label, string $class = '', string $placeholder = '', string $element = 'input', string $type = 'text', string $value = '')* и *writeForm()*

### Константы JavaScript

+ *CONSTS* - Служебная константа-объект. Имеет поле ***SEVERAL*** предназначенное для функции ***$el()***

### Функции JavaScript

+ *$el(selector, quantity = undefined)* - Возвращает первый найденный DOM-элемент, или, если указан *quantity = SEVERAL*, то возвращает массив DOM-элементов
+ *$value(elem, type) :Element* - Возвращает отформатированное значение атрибута *value* указанного элемента. Отформатировать его можно, в качестве значения *type* значение *'int'* или *'float'*. Напоминаю, что по умолчанию всегда возвращается значение типа *'string'*
+ *String.prototype.toCapitalCase() :Element* - Возвращает "капитализированную" строку
